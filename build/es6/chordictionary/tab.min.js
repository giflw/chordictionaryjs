import*as SCALE from"./scales";import{removeDuplicates}from"./tools";export function isValid(e){return!!new RegExp("^[x0-9]*$","i").test(e)}export function toNotes(e,t){let r,n,o=[];for(let l=0;l<e.length;l++)isNaN(e[l])?o.push("x"):(n=t[l],(r=parseInt(e[l])+SCALE.A.indexOf(n))>SCALE.A.length-1&&(r-=SCALE.A.length),o.push(SCALE.A[r]));return o}export function getSemitones(e){let t=[];for(let n=0;n<e.length;n++){var r=[];if(e[n]&&"x"!==e[n].toLowerCase()){for(let t=0;t<e.length;t++){if(!e[t]||"x"===e[t].toLowerCase()){r.push(null);continue}let o=SCALE.getInterval(e[n],e[t]);r.push(o)}r.includes(0)&&t.push(r)}}return t}export function stripFormula(e){let t=[...e];return t=t.filter(e=>!isNaN(e)&&null!=e),removeDuplicates(t.sort(function(e,t){return e-t}))}