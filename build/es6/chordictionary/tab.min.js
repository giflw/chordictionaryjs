import*as SCALE from"./scales";import{removeDuplicates}from"./tools";export function isValid(t){return!!new RegExp("^[x0-9]*$","i").test(t)}export function toNotes(t,e){let r,o,n=[];for(let i=0;i<t.length;i++)isNaN(t[i])?n.push("x"):(o=e[i],(r=parseInt(t[i])+SCALE.A.indexOf(o))>SCALE.A.length-1&&(r-=SCALE.A.length),n.push(SCALE.A[r]));return n}export function getIntegerNotation(t){let e=[];for(let o=0;o<t.length;o++){var r=[];if(t[o]&&"x"!==t[o].toLowerCase()){for(let e=0;e<t.length;e++){if(!t[e]||"x"===t[e].toLowerCase()){r.push("x");continue}let n=SCALE.getInterval(t[o],t[e]);r.push(n)}r.includes(0)&&e.push(r)}}return e}export function stripFormula(t){let e=t.slice(0);return e=e.filter(t=>!isNaN(t)),removeDuplicates(e.sort(function(t,e){return t-e}))}