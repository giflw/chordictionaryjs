import{NOTES}from"./notes";import{removeDuplicates}from"./tools";import*as INTERVAL from"./interval";export function isValid(t){return!!new RegExp("^[x0-9]*$","i").test(t)}export function toNotes(t,e){let r,o,n=[];for(let i=0;i<t.length;i++)isNaN(t[i])?n.push("x"):(o=e[i],(r=parseInt(t[i])+NOTES.indexOf(o))>NOTES.length-1&&(r-=NOTES.length),n.push(NOTES[r]));return n}export function getSemitones(t){let e=[];for(let o=0;o<t.length;o++){var r=[];if(t[o]&&"x"!==t[o].toLowerCase()){for(let e=0;e<t.length;e++){if(!t[e]||"x"===t[e].toLowerCase()){r.push(null);continue}let n=INTERVAL.get(t[o],t[e]);r.push(n)}r.includes(0)&&e.push(r)}}return e}export function stripFormula(t){let e=[...t];return e=e.filter(t=>!isNaN(t)&&null!=t),removeDuplicates(e.sort(function(t,e){return t-e}))}